/**
 * @package     Joomla.Site
 * @subpackage  Templates.ItaliaPA
 *
 * @version     __DEPLOY_VERSION__
 *
 * @author      Helios Ciancio <info (at) eshiol (dot) it>
 * @link        https://www.eshiol.it
 * @copyright   Copyright (C) 2017 - 2022 Helios Ciancio. All rights reserved
 * @license     http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL v3
 * Template ItaliaPA is free software. This version may have been modified pursuant
 * to the GNU General Public License, and as distributed it includes or
 * is derivative of works licensed under the GNU General Public License
 * or other free or open source software licenses.
 */
!function($){$(document).ready((function(){"undefined"==typeof eshiol&&(eshiol={}),void 0===eshiol.italiapa&&(eshiol.italiapa={}),eshiol.italiapa.version="__DEPLOY_VERSION__",console.log("  _____ _        _ _       _____\n |_   _| |      | (_)     |  __ \\ /\\\n   | | | |_ __ _| |_  __ _| |__) /  \\\n   | | | __/ _` | | |/ _` |  ___/ /\\ \\\n  _| |_| || (_| | | | (_| | |  / ____ \\\n |_____|\\__\\__,_|_|_|\\__,_|_| /_/    \\_\\ "+eshiol.italiapa.version+"\n\nbased on Web Toolkit (https://italia.github.io/design-web-toolkit/)\nCopyright (c) 2017 - 2022, Helios Ciancio (https://www.eshiol.it)"),void 0===eshiol.location&&(eshiol.location={}),$("link[rel=shortlink]").eq(0).attr("href")?eshiol.location.href=$("link[rel=shortlink]").eq(0).attr("href"):$("link[rel=canonical]").eq(0).attr("href")?eshiol.location.href=$("link[rel=canonical]").eq(0).attr("href"):eshiol.location.href=$(location).attr("href"),$("#right").length&&($(".item-image.ipa-Right").prependTo("#right"),$("article aside.ipa-Right").closest("div").children().each((function(i,el){$.each($(el).attr("class").split(" "),(function(index,element){element.includes("-size")&&$(el).removeClass(element)}))})),$("#right > img:first").length?($(".ipa-Right:not(aside)").prependTo("#right"),$("aside.ipa-Right").insertAfter("#right > img:first")):$(".ipa-Right").prependTo("#right"),$(".ipa-Right nav").removeClass("u-floatRight"),$("#right").children().each((function(i,el){$.each($(el).attr("class").split(" "),(function(index,element){(element.includes("-padding-")||element.includes("Grid"))&&$(el).removeClass(element)})),$(el).addClass("u-padding-bottom-s")}))),$("article dl.fields-container dd.field-entry.ipa-Right").each((function(index,element){$(element).prependTo("div.icons nav>ul:first-of-type").replaceWith($('<li class="u-padding-right-xs">'+element.innerHTML+"</li>"))})),eshiol.italiapa.setTheme=eshiol.italiapa.setTheme||function(theme){if("default"==theme)$.removeCookie("theme"),document.getElementById("theme").setAttribute("href",__PUBLIC_PATH__+"build."+__DEFAULT_THEME__+".css"),theme="italia";else{url=__PUBLIC_PATH__+"build."+theme+".css";var http=new XMLHttpRequest;http.open("HEAD",url,!1),http.send(),404!=http.status&&($.cookie("theme",theme,{path:"/"}),document.getElementById("theme").setAttribute("href",__PUBLIC_PATH__+"build."+theme+".css"))}$.each($("html").attr("class").split(" "),(function(index,element){"theme-"==element.substring(0,6)&&$("html").removeClass(element)})),$("html").addClass("theme-"+theme)},eshiol.italiapa.removeCookiesConsent=function(){console.log("removing cookies_consent cookie"),$.removeCookie("cookies_consent")},$("footer ul.Footer-links:gt(0)").remove().children("li").appendTo("footer ul.Footer-links:eq(0)"),$(".js-megamenu ul.columns[data-columns]").each((function(){columns=$(this).attr("data-columns"),colWidth=$(this).width(),$(this).width(columns*colWidth);var ul=$(this).find("ul").eq(0);if(ul.find(">li.column-break").length==columns-1)j=0,ul.find(">li").each((function(i){$(this).hasClass("column-break")?(j++,$(this).remove()):j>0&&$(this).addClass("column-"+j)}));else{var colSize=Math.ceil(ul.find("li").size()/columns);i=0,j=0,ul.find(">li").each((function(){j>0&&$(this).addClass("column-"+j),i=i+1+$(this).find(">ul>li").length,i>=colSize&&(j+=1,i=0)}))}for(j=columns-1;j>0;j--)ul.find(".column-"+j).removeClass("column-"+j).insertAfter(ul).wrapAll("<ul></ul>");$(this).find("li").eq(0).width(columns*colWidth),$(this).find("li ul").width(colWidth)})),void 0===eshiol.italiapa.clipboard&&(eshiol.italiapa.clipboard={}),eshiol.italiapa.clipboard.write=function(str,msg){navigator.permissions.query({name:"clipboard-write"}).then((function(result){if("granted"===result.state)if(navigator.clipboard)navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([str],{type:"text/plain"})})]).then((function(){console.log("Copied to clipboard successfully!"),void 0!==msg&&alert(msg)}),(function(error){console.error("unable to write to clipboard. Error:"),console.log(error)}));else{var el=document.createElement("textarea");el.value=str,el.setAttribute("readonly",""),el.style={position:"absolute",left:"-9999px"},document.body.appendChild(el),el.select(),document.execCommand("copy"),void 0!==msg&&alert(msg),document.body.removeChild(el)}else console.log("clipboard-permissoin not granted: "+result)}))},$.expr[":"].external=function(obj){return!obj.href.match(/^mailto\:/)&&obj.hostname!=location.hostname&&!obj.href.match(/^javascript\:/)&&!obj.href.match(/^$/)},$("a:external").attr("target","_blank"),setTimeout((function(){window.scroll(0,0)}),100)})),Joomla.renderMessages=function(messages){Joomla.removeMessages();var messageContainer=document.getElementById("system-message-container"),type,typeMessages,messagesBox,title,titleWrapper,i,messageWrapper,alertClass;for(type in messages)if(messages.hasOwnProperty(type)){typeMessages=messages[type],alertClass="notice"===type?"Alert-info":"alert-"+type,alertClass="message"===type?"Alert-success":alertClass,alertClass="error"===type?"Alert-error Alert-danger":alertClass,(messagesBox=document.createElement("div")).className="Prose Alert "+alertClass+" Alert--withIcon u-layout-prose u-padding-r-bottom u-padding-r-right u-margin-r-bottom";var buttonWrapper=document.createElement("a");for(buttonWrapper.setAttribute("data-dismiss","alert"),buttonWrapper.className="Button u-border-none u-floatRight",buttonWrapper.innerHTML='<span class="u-text-r-m Icon Icon-close"></span>',messagesBox.appendChild(buttonWrapper),void 0!==(title=Joomla.JText._(type))&&((titleWrapper=document.createElement("h2")).className="u-text-h",titleWrapper.innerHTML=Joomla.JText._(type),messagesBox.appendChild(titleWrapper)),i=typeMessages.length-1;i>=0;i--)(messageWrapper=document.createElement("p")).className="u-text-p",messageWrapper.innerHTML=typeMessages[i],messagesBox.appendChild(messageWrapper);messageContainer.appendChild(messagesBox)}}}(jQuery);