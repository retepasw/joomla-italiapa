/**
 * @package     Joomla.Site
 * @subpackage  Templates.ItaliaPA
 * 
 * @version     __DEPLOY_VERSION__
 *
 * @author      Helios Ciancio <info (at) eshiol (dot) it>
 * @link        https://www.eshiol.it
 * @copyright   Copyright (C) 2017 - 2023 Helios Ciancio. All rights reserved
 * @license     http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL v3
 * Template ItaliaPA is free software. This version may have been modified
 * pursuant to the GNU General Public License, and as distributed it includes
 * or is derivative of works licensed under the GNU General Public License or
 * other free or open source software licenses.
 */
const string2rgb=c=>c.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(",").map(Number),getComputerBackgroundColor=el=>document.defaultView.getComputedStyle(el,null).getPropertyValue("background-color"),getComputerColor=el=>document.defaultView.getComputedStyle(el,null).getPropertyValue("color");function getBackgroundColor(el){for(bc=getComputerBackgroundColor(el);document.body!==el&&isTransparent(bc);)el=el.parentElement,bc=getComputerBackgroundColor(el);return bc}function getColor(el){for(c=getComputerColor(el);document.body!==el&&isTransparent(c);)el=el.parentElement,c=getComputerColor(el);return c}function isTransparent(color){switch((color||"").replace(/\s+/g,"").toLowerCase()){case"transparent":case"":case"rgba(0,0,0,0)":return!0;default:return!1}}function lab2rgb(lab){var y=(lab[0]+16)/116,x=lab[1]/500+y,z=y-lab[2]/200,r,g,b;return g=-.9689*(x=.95047*(x*x*x>.008856?x*x*x:(x-16/116)/7.787))+1.8758*(y=1*(y*y*y>.008856?y*y*y:(y-16/116)/7.787))+.0415*(z=1.08883*(z*z*z>.008856?z*z*z:(z-16/116)/7.787)),b=.0557*x+-.204*y+1.057*z,r=(r=3.2406*x+-1.5372*y+-.4986*z)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,[255*Math.max(0,Math.min(1,r)),255*Math.max(0,Math.min(1,g)),255*Math.max(0,Math.min(1,b))]}function rgb2lab(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,x,y,z;return y=(.2126*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.7152*(g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92)+.0722*(b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92))/1,z=(.0193*r+.1192*g+.9505*b)/1.08883,x=(x=(.4124*r+.3576*g+.1805*b)/.95047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]}function deltaE(labA,labB){var deltaL=labA[0]-labB[0],deltaA=labA[1]-labB[1],deltaB=labA[2]-labB[2],c1=Math.sqrt(labA[1]*labA[1]+labA[2]*labA[2]),c2,deltaC=c1-Math.sqrt(labB[1]*labB[1]+labB[2]*labB[2]),deltaH=deltaA*deltaA+deltaB*deltaB-deltaC*deltaC,sc,sh,deltaLKlsl=deltaL/1,deltaCkcsc=deltaC/(1+.045*c1),deltaHkhsh=(deltaH=deltaH<0?0:Math.sqrt(deltaH))/(1+.015*c1),i=deltaLKlsl*deltaLKlsl+deltaCkcsc*deltaCkcsc+deltaHkhsh*deltaHkhsh;return i<0?0:Math.sqrt(i)}function component2hex(c){var hex=c.toString(16);return 1==hex.length?"0"+hex:hex}function rgb2hex(rgb){return"#"+component2hex(rgb[0])+component2hex(rgb[1])+component2hex(rgb[2])}function hex2rgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]:null}function invertColor(el){fc=string2rgb(getColor(el)),bc=string2rgb(getBackgroundColor(el)),deltaE(rgb2lab(bc),rgb2lab(fc))<50&&(el.style.cssText="filter:invert(1);"+el.style.cssText)}function fixColor(el,c){fc=string2rgb(getColor(el)),bc=string2rgb(getBackgroundColor(el)),deltaE(rgb2lab(bc),rgb2lab(fc))<50&&(el.style.color=c)}